import mongoose from 'mongoose';
import dotenv from 'dotenv';
import Dua from '../models/Dua.js';

dotenv.config();

const allahNames = [
  { id: 1, transliteration: 'Ar-Rahman', duas: ['اللهم يا رحمن ارحمنا برحمتك الواسعة', 'يا رحمن ارزقنا سعة الصدر والطمأنينة', 'يا رحمن اجعل قلوبنا عامرة بذكرك'] },
  { id: 2, transliteration: 'Ar-Raheem', duas: ['يا رحيم الطف بنا فيما جرت به المقادير', 'اللهم يا رحيم اكتب لنا رحمة لا نشقى بعدها', 'يا رحيم اجعلنا من المرحومين لديك'] },
  { id: 3, transliteration: 'Al-Malik', duas: ['يا ملك الملوك دبر لنا أمورنا فإننا لا نحسن التدبير', 'يا ملك ارزقنا طاعة أوامرك واجعلنا من أهل طاعتك', 'اللهم ملكتنا ما بين أيدينا فاجعله خيراً لنا'] },
  { id: 4, transliteration: 'Al-Quddus', duas: ['يا قدوس طهر قلوبنا من كل دنس', 'يا قدوس اجعل أعمالنا خالصة لوجهك', 'يا قدوس نقنا من الذنوب كما ينقى الثوب الأبيض من الدنس'] },
  { id: 5, transliteration: 'As-Salam', duas: ['يا سلام أنزل السلام على قلوبنا وديارنا', 'يا سلام احفظنا من كل شر وبلاء', 'يا سلام اجعل خاتمتنا سلاماً وبركة'] },
  { id: 6, transliteration: 'Al-Mu\'min', duas: ['يا مؤمن ثبت قلوبنا على الإيمان', 'يا مؤمن احفظنا من الشك والريبة', 'يا مؤمن اجعلنا من المؤمنين المخلصين'] },
  { id: 7, transliteration: 'Al-Muhaymin', duas: ['يا مهيمن احفظنا بعينك التي لا تنام', 'يا مهيمن تولنا برعايتك في كل أمر', 'يا مهيمن اكفنا كل ما أهمنا'] },
  { id: 8, transliteration: 'Al-Aziz', duas: ['يا عزيز أعزنا بطاعتك ورضاك', 'يا عزيز اجعل لنا قوة على الطاعة', 'يا عزيز امنحنا العزة في الدين والدنيا'] },
  { id: 9, transliteration: 'Al-Jabbar', duas: ['يا جبار اجبر كسر قلوبنا', 'يا جبار أصلح شأننا كله', 'يا جبار كن لنا عوناً على ما نلاقيه'] },
  { id: 10, transliteration: 'Al-Mutakabbir', duas: ['يا متكبر طهر قلوبنا من الكبر', 'يا متكبر ازرع فينا التواضع لك', 'يا متكبر اجعلنا من الخاشعين'] },
  { id: 11, transliteration: 'Al-Khaliq', duas: ['يا خالق أصلح خلقنا وخلقنا', 'يا خالق اجعلنا من عبادك الصالحين', 'يا خالق وفقنا لمرضاتك'] },
  { id: 12, transliteration: 'Al-Bari', duas: ['يا بارئ أصلح أحوالنا وأخلاقنا', 'يا بارئ يسر لنا كل عسير', 'يا بارئ اجعلنا على صراطك المستقيم'] },
  { id: 13, transliteration: 'Al-Musawwir', duas: ['يا مصور حسن أخلاقنا كما حسنت خلقنا', 'يا مصور زين قلوبنا بالإيمان', 'يا مصور اجعلنا على صورتك التي ترضى'] },
  { id: 14, transliteration: 'Al-Ghaffar', duas: ['يا غفار اغفر لنا ذنوبنا كلها', 'يا غفار استر عيوبنا برحمتك', 'يا غفار اجعلنا من أهل مغفرتك'] },
  { id: 15, transliteration: 'Al-Qahhar', duas: ['يا قهار اقهر نفوسنا الأمارة بالسوء', 'يا قهار اكفنا شر ما أهمنا', 'يا قهار احفظنا من كل معتدٍ'] },
  { id: 16, transliteration: 'Al-Wahhab', duas: ['يا وهاب هب لنا من لدنك رحمة', 'يا وهاب ارزقنا رزقاً طيباً', 'يا وهاب اجعل لنا من كل هم فرجاً'] },
  { id: 17, transliteration: 'Ar-Razzaq', duas: ['يا رزاق ارزقنا رزقاً واسعاً حلالاً', 'يا رزاق بارك لنا في أرزاقنا', 'يا رزاق اغننا بفضلك عن من سواك'] },
  { id: 18, transliteration: 'Al-Fattah', duas: ['يا فتاح افتح لنا أبواب الخير', 'يا فتاح يسر لنا أمورنا', 'يا فتاح افتح لنا باب رحمتك'] },
  { id: 19, transliteration: 'Al-Aleem', duas: ['يا عليم علمنا ما ينفعنا وانفعنا بما علمتنا', 'يا عليم دلنا على ما تحب وترضى', 'يا عليم اهدنا للحق'] },
  { id: 20, transliteration: 'Al-Qabid', duas: ['يا قابض اجعل قبضك لنا رحمة', 'يا قابض ارزقنا الصبر عند البلاء', 'يا قابض لا تقبض عنا رحمتك'] },
  { id: 21, transliteration: 'Al-Basit', duas: ['يا باسط ابسط قلوبنا بالإيمان', 'يا باسط وسع علينا في الرزق', 'يا باسط اجعل لنا سعة في الطاعات'] },
  { id: 22, transliteration: 'Al-Khafid', duas: ['يا خافض اخفض عنا البلاء', 'يا خافض اخفضنا عند التكبر', 'يا خافض احفظنا من الظلم'] },
  { id: 23, transliteration: 'Ar-Rafi', duas: ['يا رافع ارفع درجاتنا', 'يا رافع ارزقنا رفعة عندك', 'يا رافع اجعلنا من أهل الجنة'] },
  { id: 24, transliteration: 'Al-Mu\'izz', duas: ['يا معز أعزنا بطاعتك', 'يا معز اجعل لنا عزة في الدين', 'يا معز اجعلنا من أعزة أهل الطاعة'] },
  { id: 25, transliteration: 'Al-Mudhill', duas: ['يا مذل احفظنا من الذل والهوان', 'يا مذل أبعد عنا سوء الخاتمة', 'يا مذل اجعلنا في معيتك'] },
  { id: 26, transliteration: 'As-Sami', duas: ['يا سميع استجب دعاءنا', 'يا سميع اجعلنا من أهل الاستجابة', 'يا سميع تقبل أعمالنا'] },
  { id: 27, transliteration: 'Al-Baseer', duas: ['يا بصير أبصرنا بعيوبنا', 'يا بصير دلنا على طاعتك', 'يا بصير اجعلنا نرى نورك'] },
  { id: 28, transliteration: 'Al-Hakam', duas: ['يا حكم احكم بيننا بالعدل', 'يا حكم ألهمنا الحكم الصالح', 'يا حكم اجعلنا من أهل الحق'] },
  { id: 29, transliteration: 'Al-Adl', duas: ['يا عدل اجعلنا عادلين في أقوالنا وأفعالنا', 'يا عدل ارزقنا ميزاناً مستقيماً', 'يا عدل احفظنا من الظلم'] },
  { id: 30, transliteration: 'Al-Latif', duas: ['يا لطيف الطف بنا في قضائك', 'يا لطيف اجعل لنا لطفاً خفياً', 'يا لطيف يسر لنا الصعاب'] },
  { id: 31, transliteration: 'Al-Khabeer', duas: ['يا خبير أعنا على طاعتك', 'يا خبير دلنا على الخير', 'يا خبير ارزقنا بصيرة'] },
  { id: 32, transliteration: 'Al-Haleem', duas: ['يا حليم احلم علينا وارحم ضعفنا', 'يا حليم اجعلنا من الحليمين', 'يا حليم اغفر زلاتنا'] },
  { id: 33, transliteration: 'Al-Azeem', duas: ['يا عظيم أعنا على إدراك عظمتك', 'يا عظيم اجعلنا من المعظمين لشعائرك', 'يا عظيم زدنا إجلالاً لك'] },
  { id: 34, transliteration: 'Al-Ghafoor', duas: ['يا غفور اغفر لنا ذنوبنا كلها', 'يا غفور استر عيوبنا', 'يا غفور اجعلنا من المغفور لهم'] },
  { id: 35, transliteration: 'Ash-Shakoor', duas: ['يا شكور تقبل جهودنا وضاعف أجورنا', 'يا شكور اجعلنا من الشاكرين', 'يا شكور ارزقنا شكر نعمك'] },
  { id: 36, transliteration: 'Al-Aliyy', duas: ['يا علي ارفع تطلعاتنا لما يرضيك', 'يا علي اجعلنا من أهل الرفعة بالطاعة', 'يا علي ارزقنا علماً نافعاً'] },
  { id: 37, transliteration: 'Al-Kabeer', duas: ['يا كبير أعنا على رؤية آياتك', 'يا كبير اجعل في قلوبنا تعظيماً لك', 'يا كبير ارزقنا خشيتك'] },
  { id: 38, transliteration: 'Al-Hafiz', duas: ['يا حفيظ احفظ إيماننا وأهلنا', 'يا حفيظ احفظنا من كل سوء', 'يا حفيظ اجعلنا في حفظك ورعايتك'] },
  { id: 39, transliteration: 'Al-Muqeet', duas: ['يا مقيت ارزقنا القوت الروحي والجسدي', 'يا مقيت اكفنا بحلالك عن حرامك', 'يا مقيت اجعل قلوبنا عامرة بطاعتك'] },
  { id: 40, transliteration: 'Al-Haseeb', duas: ['يا حسيب كفنا بحسابك عن حساب خلقك', 'يا حسيب اجعل ميزان حسناتنا ثقيلاً', 'يا حسيب احفظنا من التقصير'] },
  { id: 41, transliteration: 'Al-Jaleel', duas: ['يا جليل امنحنا نصيباً من الكرامة', 'يا جليل اجعلنا من أهل الجلال', 'يا جليل ارزقنا الهيبة في الحق'] },
  { id: 42, transliteration: 'Al-Kareem', duas: ['يا كريم أفض علينا من كرمك', 'يا كريم اجعلنا من أهل الكرم', 'يا كريم ارزقنا القناعة'] },
  { id: 43, transliteration: 'Ar-Raqeeb', duas: ['يا رقيب أعنا على مراقبتك', 'يا رقيب اجعلنا نخشاك كأننا نراك', 'يا رقيب احفظنا من الزلل'] },
  { id: 44, transliteration: 'Al-Mujeeb', duas: ['يا مجيب استجب دعاءنا', 'يا مجيب اجعلنا من أهل الإجابة', 'يا مجيب لا ترد لنا دعاء'] },
  { id: 45, transliteration: 'Al-Wasi', duas: ['يا واسع احطنا برحمتك', 'يا واسع وسع لنا في أرزاقنا', 'يا واسع اجعل رحمتك تسبق غضبك'] },
  { id: 46, transliteration: 'Al-Hakeem', duas: ['يا حكيم امنحنا الحكمة في قراراتنا', 'يا حكيم اجعلنا من المتدبرين', 'يا حكيم ارزقنا فهماً لكتابك'] },
  { id: 47, transliteration: 'Al-Wadud', duas: ['يا ودود املأ قلوبنا بحبك', 'يا ودود اجعل المودة بيننا', 'يا ودود ارزقنا حبك وحب من يحبك'] },
  { id: 48, transliteration: 'Al-Majeed', duas: ['يا مجيد أعنا على تمجيدك', 'يا مجيد اجعلنا من أهل المجد بالطاعة', 'يا مجيد زدنا شرفاً بالقرب منك'] },
  { id: 49, transliteration: 'Al-Ba\'ith', duas: ['يا باعث أحيِ قلوبنا بالإيمان', 'يا باعث اجعل في قلوبنا حياة بطاعتك', 'يا باعث ابعث فينا الهمة'] },
  { id: 50, transliteration: 'Ash-Shaheed', duas: ['يا شهيد اجعل أعمالنا خالصة', 'يا شهيد تقبل شهادتنا بالحق', 'يا شهيد اجعلنا تحت شهودك'] },
  { id: 51, transliteration: 'Al-Haqq', duas: ['يا حق اهدنا إلى الحق', 'يا حق اجعلنا من أهل الحق', 'يا حق ثبتنا على الحق'] },
  { id: 52, transliteration: 'Al-Wakeel', duas: ['يا وكيل تولَّ أمورنا', 'يا وكيل اكفنا بحسن تدبيرك', 'يا وكيل اجعل تفويض أمورنا إليك'] },
  { id: 53, transliteration: 'Al-Qawiyy', duas: ['يا قوي امنحنا القوة في الإيمان', 'يا قوي أعنا على الطاعة', 'يا قوي اجعل قوتنا في طاعتك'] },
  { id: 54, transliteration: 'Al-Mateen', duas: ['يا متين اجعلنا ثابتين في الإيمان', 'يا متين قوِّ عزائمنا', 'يا متين احفظنا من الضعف'] },
  { id: 55, transliteration: 'Al-Waliyy', duas: ['يا ولي كن ولينا وحافظنا', 'يا ولي تولَّ أمرنا', 'يا ولي اجعلنا تحت ولايتك'] },
  { id: 56, transliteration: 'Al-Hameed', duas: ['يا حميد اجعلنا من الحامدين لك', 'يا حميد ارزقنا حمدك في السراء والضراء', 'يا حميد زدنا شكراً'] },
  { id: 57, transliteration: 'Al-Muhsee', duas: ['يا محصي أعنا على إحصاء نعمك', 'يا محصي اجعلنا نراقب أعمالنا', 'يا محصي اغفر لنا زلاتنا'] },
  { id: 58, transliteration: 'Al-Mubdi', duas: ['يا مبدئ امنحنا بداية جديدة بالطاعة', 'يا مبدئ أصلح بدايات أعمالنا', 'يا مبدئ اجعل لنا خير بدء'] },
  { id: 59, transliteration: 'Al-Mu\'id', duas: ['يا معيد أعد لنا صحتنا وسعادتنا', 'يا معيد اجعل لنا عودة إلى طاعتك', 'يا معيد اجعل لنا توبة نصوحاً'] },
  { id: 60, transliteration: 'Al-Muhyi', duas: ['يا محيي أحيِ قلوبنا بالإيمان', 'يا محيي اجعل فينا حياة الطاعة', 'يا محيي جدد الإيمان في قلوبنا'] },
  { id: 61, transliteration: 'Al-Mumeet', duas: ['يا مميت امنحنا خاتمة حسنة', 'يا مميت اجعل الموت راحة لنا من كل شر', 'يا مميت اجعل آخر كلامنا لا إله إلا الله'] },
  { id: 62, transliteration: 'Al-Hayy', duas: ['يا حي ارزقنا حياة مباركة', 'يا حي اجعل حياتنا في طاعتك', 'يا حي أحيِ قلوبنا بذكرك'] },
  { id: 63, transliteration: 'Al-Qayyoom', duas: ['يا قيوم أقمنا برحمتك', 'يا قيوم أصلح شؤوننا كلها', 'يا قيوم لا تكلنا إلى أنفسنا طرفة عين'] },
  { id: 64, transliteration: 'Al-Wajid', duas: ['يا واجد أعنا على إيجاد طريقنا إليك', 'يا واجد اجعلنا نجد حلاوة الإيمان', 'يا واجد ارزقنا رضاك'] },
  { id: 65, transliteration: 'Al-Majid', duas: ['يا ماجد امنحنا نبل الأخلاق', 'يا ماجد اجعلنا من الممجِّدين لك', 'يا ماجد اجعلنا من أهل الفضل'] },
  { id: 66, transliteration: 'Al-Wahid', duas: ['يا واحد طهر قلوبنا من الشرك', 'يا واحد اجعلنا موحدين لك حقاً', 'يا واحد ثبت التوحيد في قلوبنا'] },
  { id: 67, transliteration: 'Al-Ahad', duas: ['يا أحد وحد قلوبنا على عبادتك', 'يا أحد اجعلنا من أهل الإخلاص', 'يا أحد اجعلنا نعبدك حق عبادتك'] },
  { id: 68, transliteration: 'As-Samad', duas: ['يا صمد اجعلنا نعتمد عليك وحدك', 'يا صمد اكفنا بحولك وقوتك', 'يا صمد اقض حوائجنا'] },
  { id: 69, transliteration: 'Al-Qadir', duas: ['يا قادر امنحنا القدرة على فعل ما يرضيك', 'يا قادر يسّر لنا الصعب', 'يا قادر لا تعجزنا في أمر'] },
  { id: 70, transliteration: 'Al-Muqtadir', duas: ['يا مقتدر أعنا فيما يبدو مستحيلاً', 'يا مقتدر اجعل لنا قوة على الطاعة', 'يا مقتدر اكفنا بما شئت'] },
  { id: 71, transliteration: 'Al-Muqaddim', duas: ['يا مقدم قدمنا في رحلتنا الروحية', 'يا مقدم اجعلنا من السابقين بالخيرات', 'يا مقدم ارزقنا القرب منك'] },
  { id: 72, transliteration: 'Al-Mu\'akhkhir', duas: ['يا مؤخر علمنا الصبر والثقة', 'يا مؤخر أخر عنا الشرور', 'يا مؤخر اجعل تأخير أمورنا خيراً لنا'] },
  { id: 73, transliteration: 'Al-Awwal', duas: ['يا أول أعنا على أن نبدأ بذكرك', 'يا أول اجعلنا نبدأ كل أمر باسمك', 'يا أول ارزقنا حسن الابتداء'] },
  { id: 74, transliteration: 'Al-Akhir', duas: ['يا آخر اجعل وجهتنا النهائية رحمتك', 'يا آخر اختم لنا بخير', 'يا آخر اجعل آخر أعمالنا صالحاً'] },
  { id: 75, transliteration: 'Az-Zahir', duas: ['يا ظاهر افتح أعيننا لنرى حضورك', 'يا ظاهر اجعل لنا نوراً نهتدي به', 'يا ظاهر اجعل الحق ظاهراً لنا'] },
  { id: 76, transliteration: 'Al-Batin', duas: ['يا باطن طهر ما هو مخفي في قلوبنا', 'يا باطن اجعل بواطننا خيراً', 'يا باطن أصلح سرائرنا'] },
  { id: 77, transliteration: 'Al-Wali', duas: ['يا والي دبّر أمورنا بحكمتك', 'يا والي كن ولي أمرنا', 'يا والي احفظنا في كل حين'] },
  { id: 78, transliteration: 'Al-Muta\'ali', duas: ['يا متعالي أعنا على تذكر مقامك', 'يا متعالي اجعلنا من أهل التعظيم لك', 'يا متعالي ارزقنا رفعة بالإيمان'] },
  { id: 79, transliteration: 'Al-Barr', duas: ['يا بر اجعلنا مصادر للخير', 'يا بر أحطنا ببرك', 'يا بر اجعلنا من الأبرار'] },
  { id: 80, transliteration: 'At-Tawwab', duas: ['يا تواب تقبل توبتنا', 'يا تواب اجعلنا من التوابين', 'يا تواب ارزقنا توبة نصوحاً'] },
  { id: 81, transliteration: 'Al-Muntaqim', duas: ['يا منتقم احمنا من عقابك', 'يا منتقم جنبنا ظلم الناس', 'يا منتقم اجعلنا من المتقين'] },
  { id: 82, transliteration: 'Al-Afuww', duas: ['يا عفو اعف عن ذنوبنا', 'يا عفو اغفر لنا تقصيرنا', 'يا عفو اجعلنا من المعفو عنهم'] },
  { id: 83, transliteration: 'Ar-Ra\'uf', duas: ['يا رؤوف عاملنا برأفتك', 'يا رؤوف ارحم ضعفنا', 'يا رؤوف اجعلنا من الرؤوفين بالخلق'] },
  { id: 84, transliteration: 'Malik-ul-Mulk', duas: ['يا مالك الملك امنحنا نصيباً من الخير', 'يا مالك الملك ارزقنا حسن التدبير', 'يا مالك الملك اجعلنا من الشاكرين'] },
  { id: 85, transliteration: 'Dhul-Jalali Wal-Ikram', duas: ['يا ذا الجلال والإكرام أكرمنا برضاك', 'يا ذا الجلال والإكرام اجعلنا من أهل كرامتك', 'يا ذا الجلال والإكرام تقبل أعمالنا'] },
  { id: 86, transliteration: 'Al-Muqsit', duas: ['يا مقسط احكم فينا بعدلك', 'يا مقسط اجعلنا من المقسطين', 'يا مقسط ارزقنا عدلاً في أقوالنا وأفعالنا'] },
  { id: 87, transliteration: 'Al-Jami', duas: ['يا جامع اجمعنا مع الصالحين', 'يا جامع اجمع شملنا على الخير', 'يا جامع ارزقنا جمع القلوب على طاعتك'] },
  { id: 88, transliteration: 'Al-Ghaniyy', duas: ['يا غني اجعلنا نكتفي بما رزقتنا', 'يا غني أغننا بحلالك عن حرامك', 'يا غني ارزقنا غنى النفس'] },
  { id: 89, transliteration: 'Al-Mughni', duas: ['يا مغني أغننا بفضلك', 'يا مغني ارزقنا رزقاً واسعاً', 'يا مغني اجعلنا من أهل الغنى بك'] },
  { id: 90, transliteration: 'Al-Mani', duas: ['يا مانع امنع عنا الشر', 'يا مانع احفظنا من السوء', 'يا مانع اجعل مانعيتك لنا رحمة'] },
  { id: 91, transliteration: 'Ad-Darr', duas: ['يا ضار امنحنا الصبر عند البلاء', 'يا ضار اجعل ضراء الدنيا تكفيراً', 'يا ضار احفظنا من الضرر'] },
  { id: 92, transliteration: 'An-Nafi', duas: ['يا نافع انفعنا بما علمتنا', 'يا نافع اجعلنا نافعِين لعبادك', 'يا نافع ارزقنا علماً نافعاً'] },
  { id: 93, transliteration: 'An-Nur', duas: ['يا نور أنر قلوبنا بنورك', 'يا نور اجعل لنا نوراً نمشي به', 'يا نور اجعلنا من أهل النور'] },
  { id: 94, transliteration: 'Al-Hadi', duas: ['يا هادي اهدنا إلى الصراط المستقيم', 'يا هادي دلنا على الخير', 'يا هادي ثبتنا على الهداية'] },
  { id: 95, transliteration: 'Al-Badi', duas: ['يا بديع أعنا على تقدير إبداعك', 'يا بديع اجعلنا من المبدعين في الخير', 'يا بديع ارزقنا حسن التدبر'] },
  { id: 96, transliteration: 'Al-Baqi', duas: ['يا باقي أعنا على العمل لما يبقى', 'يا باقي اجعل أعمالنا الباقيات الصالحات', 'يا باقي ثبتنا على الحق'] },
  { id: 97, transliteration: 'Al-Warith', duas: ['يا وارث أعنا على ترك إرث صالح', 'يا وارث اجعل إرثنا العلم والعمل الصالح', 'يا وارث احفظ أعمالنا'] },
  { id: 98, transliteration: 'Ar-Rasheed', duas: ['يا رشيد أرشدنا إلى طريق الحق', 'يا رشيد اجعلنا من أهل الرشد', 'يا رشيد دلنا على سبيلك المستقيم'] },
  { id: 99, transliteration: 'As-Sabur', duas: ['يا صبور امنحنا الصبر في المحن', 'يا صبور اجعلنا من الصابرين', 'يا صبور ارزقنا حسن الصبر'] },
];

async function seed() {
  const uri = process.env.MONGODB_URI || 'mongodb://localhost:27017/islamic-dua-app';
  await mongoose.connect(uri);
  console.log('✅ Connected to MongoDB');

  let inserted = 0;
  for (const item of allahNames) {
    // Check if there are already at least 3 duas for this name
    const count = await Dua.countDocuments({ nameId: item.id });
    const needed = Math.max(0, 3 - count);
    if (needed === 0) continue;

    const toInsert = item.duas.slice(0, needed).map((text) => ({
      nameId: item.id,
      text,
      createdBy: null,
      source: 'seed',
    }));

    if (toInsert.length > 0) {
      await Dua.insertMany(toInsert);
      inserted += toInsert.length;
      console.log(`→ ${item.transliteration}: inserted ${toInsert.length} dua(s)`);
    }
  }

  console.log(`\n✅ Seeding complete. Inserted ${inserted} duas.`);
  await mongoose.disconnect();
  process.exit(0);
}

seed().catch((err) => {
  console.error('❌ Seeding error:', err);
  process.exit(1);
});

